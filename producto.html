<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle del Producto | by dycrea</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/detalle.css">
</head>
<body>

    <div class="top-bar">
        <span><i class="fas fa-truck"></i> Envíos a todo Chile</span>
        <span class="hide-mobile"><i class="fas fa-shield-alt"></i> Pagos Seguros</span>
    </div>

    <header class="ecommerce-header">
        <div class="header-container">
            <div class="brand" onclick="window.location.href='index.html'">
                <img src="logo bydecrea centrado.png" alt="Logo Dycrea"> 
                <h1>dycrea.</h1>
            </div>
            <div class="header-actions">
                <button class="icon-btn cart-btn" title="Tu Cotización" id="openCartBtnProd">
                    <i class="fas fa-shopping-bag"></i>
                    <span class="cart-badge">0</span>
                </button>
                <button class="btn-publicar" onclick="window.location.href='index.html'">
                    <i class="fas fa-arrow-left"></i> <span class="hide-mobile">Volver a la Tienda</span>
                </button>
            </div>
        </div>
    </header>

    <main class="main-content ml-style-main">
        <div id="loading-spinner" style="text-align: center; width: 100%; padding: 50px;">
            <h2>Cargando producto... <i class="fas fa-spinner fa-spin"></i></h2>
        </div>

        <div class="product-detail-layout" id="product-detail-content" style="display: none;">
            
            <div class="product-gallery-wrapper">
                <div class="product-gallery">
                    <span id="detail-badge" class="badge category hide-mobile">Categoría</span>
                    <img id="detail-image" src="" alt="Imagen Principal" class="main-detail-image">
                </div>
                <div class="thumbnails-container" id="thumbnails-container"></div>
            </div>

            <div class="product-info-full">
                <p class="stock-status ml-muted-text">Nuevo  |  <span id="detail-stock">Stock disponible</span></p>
                <h2 id="detail-title">Título del Producto</h2>
                
                <div class="price-block">
                    <p id="detail-price" class="detail-price">$0</p>
                    <div class="ml-trust-badge">
                        <i class="fas fa-truck"></i>
                        <div>
                            <p class="ml-green-text">Envío a todo el país</p>
                            <p class="ml-sub-text">Conoce los tiempos y las formas de envío.</p>
                        </div>
                    </div>
                    <div class="ml-trust-badge">
                        <i class="fas fa-undo-alt"></i>
                        <div>
                            <p class="ml-green-text">Devolución gratis</p>
                            <p class="ml-sub-text">Tienes 30 días desde que lo recibes.</p>
                        </div>
                    </div>
                </div>

                <div class="specs-box">
                    <h3>Características principales</h3>
                    <ul class="specs-list ml-table">
                        <li><strong>Material</strong> <span id="detail-material">-</span></li>
                        <li><strong>Color</strong> <span id="detail-color">-</span></li>
                        <li><strong>Altura</strong> <span id="detail-altura">- cm</span></li>
                        <li><strong>Peso aprox.</strong> <span id="detail-peso">- g</span></li>
                        <li><strong>Personalizable</strong> <span id="detail-pers">-</span></li>
                    </ul>
                </div>

                <div class="detail-description">
                    <h3>Descripción</h3>
                    <p id="detail-desc">Aquí va la descripción del producto...</p>
                </div>

                <div class="action-buttons-full">
                    <button id="btn-cotizar-detail" class="btn-whatsapp-large ml-btn">
                        <i class="fab fa-whatsapp"></i> Agregar a mi Cotización
                    </button>
                </div>
            </div>
        </div>
    </main>

    <div class="cart-overlay" id="cartOverlay"></div>
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3><i class="fas fa-shopping-cart"></i> Tu Cotización</h3>
            <button class="close-cart" id="closeCartBtn"><i class="fas fa-times"></i></button>
        </div>
        <div class="cart-items" id="cartItemsContainer">
            <p style="text-align: center; color: gray; margin-top: 20px;">Tu carrito está vacío</p>
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total Estimado:</span>
                <span id="cartTotalPrice">$0</span>
            </div>
            <button class="btn-checkout" onclick="enviarCarritoWhatsApp()">
                <i class="fab fa-whatsapp"></i> Enviar a Cotizar
            </button>
        </div>
    </div>

    <footer class="ecommerce-footer" style="margin-top: 0;">
        <div class="footer-bottom">
            <div class="footer-bottom-container">
                <p>© 2024 by dycrea impresiones 3d. Todos los derechos reservados.</p>
                <div class="payment-icons" style="display: flex; align-items: center; gap: 15px;">
                    <i class="fas fa-university" title="Transferencia Bancaria" style="font-size: 1.4rem;"></i>
                    <i class="fas fa-mobile-screen-button" title="Transferencia App" style="font-size: 1.4rem;"></i>
                    <span style="font-size: 0.85rem; font-weight: 500; border-left: 1px solid rgba(255,255,255,0.2); padding-left: 15px; margin-left: 5px;">
                        Pago vía Transferencia <br> o Billetera Digital (Mach/Tenpo)
                    </span>
                </div>
                </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="producto.js"></script>
</body>
</html>